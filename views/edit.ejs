<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Hisaab</title>
    <link rel="stylesheet" href="/output.css">
</head>

<body>
    <div class="w-full h-15 px-8 py-3 flex text-white items-center justify-between">
        <h1 class="text-lg font-bold text-black">Khaatabook</h1>
        <div class="flex gap-5">
            <a href="/">
                <p class="font-semibold text-lg text-black">Home</p>
            </a>
            <a href="/create">
                <p class="font-semibold text-lg text-black">Create new Hisaab</p>
            </a>
        </div>
    </div>

    <div class="flex flex-col gap-4">
        <p class="px-8 text-xl mt-3 font-semibold">
            You're editing the hisaab of <span class="text-blue-600">
                <%= file.split(".")[0] %>
            </span> date.
        </p>

        <form action="/update/<%= file %>" class="flex flex-col" method="post">
            <textarea name="content" placeholder="Daal Aata Cheeni"
                class="bg-gray-400 placeholder:text-black text-lg mt-5 w-1/3 p-2 px-2 mx-7 h-80 rounded-2xl resize-none"><%= data %></textarea>

            <!-- Checkbox to enable encryption -->
            <label class="px-8 mt-4 font-bold">
                <input type="checkbox" name="encrypt" id="encryptToggle"> Encrypt this Hisaab
            </label>

            <!-- Password input shown only when encryption is checked -->
            <div id="passwordField" class="px-8 hidden">
                <input type="password" name="passcode" placeholder="Enter password"
                    class="bg-gray-400 mt-2 rounded-xl h-9 px-3 py-2">
            </div>

            <button class="bg-blue-500 text-white font-semibold w-40 rounded-md p-3 mx-7 mt-4">Submit</button>
        </form>
    </div>

    <script>
        document.getElementById("encryptToggle").addEventListener("change", function () {
            document.getElementById("passwordField").style.display = this.checked ? "block" : "none";
        });
    </script>
</body>

</html>